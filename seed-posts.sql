-- =============================================
-- FreeCloud - Seed 5 Posts Iniciales
-- Ejecutar en Supabase SQL Editor
-- =============================================

DO $$
DECLARE
  cat_bim     UUID;
  cat_norm    UUID;
  cat_python  UUID;
  cat_revit   UUID;
BEGIN

  SELECT id INTO cat_bim    FROM categories WHERE slug = 'bim-peru'   LIMIT 1;
  SELECT id INTO cat_norm   FROM categories WHERE slug = 'normativa'  LIMIT 1;
  SELECT id INTO cat_python FROM categories WHERE slug = 'python'     LIMIT 1;
  SELECT id INTO cat_revit  FROM categories WHERE slug = 'revit'      LIMIT 1;

-- ==============================================
-- POST 1: BIM Obligatorio en Perú 2026
-- ==============================================
INSERT INTO posts (
  title, slug, content, excerpt, category_id, tags,
  meta_title, meta_description, key_question, key_answer,
  status, featured, author, reading_time, published_at
) VALUES (
  '¿Qué es BIM y por qué será obligatorio en Perú en 2026?',
  'que-es-bim-obligatorio-peru-2026',
  E'## ¿Qué es BIM y por qué será obligatorio en Perú?\n\n**BIM (Building Information Modeling) será obligatorio en Perú desde agosto de 2026** para proyectos públicos complejos, según la Ley 32069 y su artículo 46.6. Esto afecta a 14 tipologías de proyectos en los tres niveles de gobierno: nacional, regional y local.\n\nSi eres ingeniero civil, arquitecto o trabajas en el sector de infraestructura pública, esto no es una tendencia que puedes ignorar. Es un cambio legal que ya tiene fecha límite.\n\n---\n\n## ¿Qué dice exactamente la Ley 32069?\n\nLa Ley 32069, promulgada en julio de 2024, moderniza la Ley de Contrataciones del Estado. Su artículo 46.6 establece que los proyectos de inversión pública que superen los umbrales definidos por el MEF deberán ejecutarse con metodología BIM.\n\n### Las 14 tipologías afectadas incluyen:\n\n- Edificaciones (hospitales, colegios, universidades)\n- Infraestructura vial (carreteras, puentes, intercambios viales)\n- Saneamiento (agua potable, alcantarillado)\n- Irrigaciones y presas\n- Puertos y aeropuertos\n- Infraestructura ferroviaria\n- Entre otras definidas en el Reglamento\n\n### Plazos clave:\n\n| Nivel | Fecha límite |\n|---|---|\n| Gobierno Nacional | Agosto 2026 |\n| Gobierno Regional | Diciembre 2026 |\n| Gobierno Local | Marzo 2027 |\n\n---\n\n## ¿Qué significa BIM en la práctica?\n\nBIM no es solo un software. Es una **metodología de trabajo colaborativo** donde toda la información del proyecto (diseño, costos, cronograma, mantenimiento) vive en un modelo digital centralizado.\n\nEn términos concretos para un ingeniero peruano:\n\n### Antes de BIM (flujo tradicional):\n1. Arquitecto dibuja en AutoCAD → exporta PDF\n2. Ingeniero estructural recibe PDF → redibuja en ETABS/SAP\n3. Instalaciones redibuja lo mismo en otro programa\n4. Los planos chocan entre sí → retrabajos en obra\n\n### Con BIM:\n1. Todos trabajan sobre el mismo modelo federado en Revit/Navisworks\n2. Los choques se detectan automáticamente antes de obra\n3. Los metrados salen del modelo, no de medición manual\n4. Los cambios se propagan en cascada a todos los documentos\n\n---\n\n## ¿Por qué importa que te prepares ahora?\n\nHay un problema grave en el mercado peruano: **hay muy pocos ingenieros con competencias BIM certificadas**. Esto crea una oportunidad enorme para quienes se preparen antes de agosto de 2026.\n\nSegún conversaciones con consultoras como COSAPI, GYM y Graña y Montero, la demanda de coordinadores BIM ya superó la oferta disponible en Lima en 2024. Y la brecha solo va a crecer.\n\n### Lo que necesitas aprender (por orden de prioridad):\n\n1. **Revit** (modelado de edificaciones) o **Civil 3D** (infraestructura vial) — Nivel básico-intermedio\n2. **Navisworks** — Coordinación y detección de choques\n3. **BIM 360 / ACC** — Gestión colaborativa en la nube\n4. **Protocolo BIM** — Cómo estructurar el PEB (Plan de Ejecución BIM)\n5. **Dynamo/Python** — Automatización de tareas repetitivas\n\n---\n\n## ¿Qué es el PEB y por qué lo pedirán en licitaciones?\n\nEl **Plan de Ejecución BIM (PEB)** es el documento que define cómo se va a usar BIM en el proyecto. Es obligatorio para proyectos públicos bajo la nueva normativa.\n\nEl PEB incluye:\n- Usos BIM aplicables al proyecto\n- Software y versiones a usar\n- Estructura de carpetas y nomenclatura de archivos\n- Responsables por disciplina (coordinador BIM, modeladores)\n- Hitos de entrega del modelo\n- Criterios de aceptación del modelo\n\nEn las licitaciones del 2026 en adelante, presentar un PEB mal hecho puede ser causal de descalificación técnica.\n\n---\n\n## ¿Cómo prepararte si recién empiezas?\n\n**Mes 1-2:** Aprende Revit básico. Modela una vivienda de 2 pisos completa (arquitectura + estructura + instalaciones básicas).\n\n**Mes 3-4:** Aprende coordinación BIM con Navisworks. Practica con proyectos educativos del Banco de Proyectos del MEF (son públicos y están en PDF, tienes que modelarlos).\n\n**Mes 5-6:** Certifícate. Autodesk tiene certificaciones oficiales de Revit. También existen certificaciones BIM de buildingSMART.\n\n**Mes 7 en adelante:** Busca proyectos reales donde aplicar. Muchas empresas están buscando practicantes BIM con conocimientos básicos.\n\n---\n\n## Conclusión: La ventana de oportunidad se cierra en 2026\n\nLa Ley 32069 no es negociable. A partir de agosto de 2026, los proyectos públicos en Perú que no cumplan con la metodología BIM no pasarán los filtros de la OSCE.\n\nSi tienes menos de 35 años y trabajas en infraestructura, tienes aproximadamente 18 meses para posicionarte como referente BIM en tu empresa o región. Eso se consigue con práctica consistente, no con un curso de fin de semana.\n\n**El mejor momento para empezar era hace un año. El segundo mejor momento es hoy.**',
  'BIM será obligatorio en Perú desde agosto 2026 según la Ley 32069. Descubre qué significa para tu carrera como ingeniero civil y cómo prepararte ahora.',
  cat_bim,
  ARRAY['bim', 'peru', 'ley-32069', 'normativa', 'revit'],
  'BIM Obligatorio en Perú 2026: Lo Que Todo Ingeniero Debe Saber Ahora',
  'BIM será obligatorio en Perú desde agosto 2026 por la Ley 32069. Conoce las 14 tipologías afectadas, plazos y cómo prepararte ahora.',
  '¿Qué es BIM y por qué será obligatorio en Perú?',
  'BIM (Building Information Modeling) será obligatorio en Perú desde agosto 2026 para proyectos públicos complejos según la Ley 32069, afectando 14 tipologías de proyectos en los tres niveles de gobierno.',
  'published', true, 'Miguel Angel Rivera', 8, NOW()
) ON CONFLICT (slug) DO NOTHING;

-- ==============================================
-- POST 2: Prepararse para BIM en 6 Meses
-- ==============================================
INSERT INTO posts (
  title, slug, content, excerpt, category_id, tags,
  meta_title, meta_description, key_question, key_answer,
  status, featured, author, reading_time, published_at
) VALUES (
  'Cómo Prepararte para BIM en 6 Meses: Guía Práctica para Ingenieros',
  'como-prepararte-bim-6-meses',
  E'## ¿Cómo puede un ingeniero civil prepararse para BIM en 6 meses?\n\n**La ruta más directa para un ingeniero civil con AutoCAD:** Revit básico-intermedio en los primeros 2 meses, coordinación BIM y normativa peruana en los meses 3-4, y proyectos reales con automatización en Dynamo/Python en los meses 5-6.\n\nLo sé porque lo hice. Esta es mi ruta exacta, los recursos que usé, y lo que hubiera cambiado si pudiera empezar de nuevo.\n\n---\n\n## Por qué 6 meses y no un año\n\nLa trampa más común es sobreplanificar. Los ingenieros que conozco que tardaron 18 meses en "aprender BIM" básicamente pasaron 12 meses viendo tutoriales y 6 meses haciendo algo real.\n\nLa verdad es que en 6 meses de práctica constante (1-2 horas diarias en días de semana, 3-4 horas los fines de semana) puedes llegar a un nivel que el mercado actualmente considera "BIM Intermediate" — suficiente para trabajar como coordinador BIM junior o modelador senior.\n\n---\n\n## El plan mes a mes\n\n### Mes 1-2: Revit Architecture + Structure\n\n**Semana 1-2: Entender el paradigma**\n\nRevit no es AutoCAD en 3D. Es una base de datos geométrica. Cada elemento que dibujas (muro, columna, viga) tiene propiedades, y esas propiedades alimentan los metrados, planos y schedules automáticamente.\n\nPrimer proyecto obligatorio: modela tu propia casa o departamento. No importa que sea simple. Lo que importa es que completes familia de muros → puertas → ventanas → estructura → niveles.\n\n**Semana 3-4: Proyecto real pequeño**\n\nDescarga los planos del Banco de Proyectos del MEF y modela un módulo de aula estándar del MINEDU. Son proyectos con planos en PDF disponibles públicamente, y sirven para practicar arquitectura + estructura simultáneamente.\n\n**Recursos para estos 2 meses:**\n- Autodesk Learning (gratuito con cuenta estudiantil por 1 año)\n- Canal de YouTube: BIM Manager Peru\n- Libro: "BIM Handbook" (Eastman et al.) — al menos los capítulos 1 y 2\n\n### Mes 3-4: Coordinación BIM y Normativa Peruana\n\n**Navisworks para detección de choques**\n\nAquí es donde BIM genera valor real. Un choque detectado en modelo cuesta S/. 50 resolverlo. En obra puede costar S/. 50,000.\n\nPráctica: Toma tu modelo de Revit, exporta a NWC, ábrelo en Navisworks, y corre el Clash Detection entre arquitectura y estructura. Te garantizo que encontrarás choques aunque hayas modelado con cuidado.\n\n**Normativa BIM peruana**\n\nLee el Plan BIM Perú 2023-2030 (disponible en la web del MEF). Entiende los Niveles de Información Necesaria (equivalente al LOD anglosajón), el Plan de Ejecución BIM (PEB), y los Usos BIM definidos por el gobierno.\n\n### Mes 5-6: Proyectos reales y automatización\n\n**Dynamo para automatizar tareas repetitivas**\n\nEjemplo práctico: colocar 200 columnas en una planta de estacionamiento. Manualmente: 2 horas. Con Dynamo: 5 minutos una vez que tienes el script.\n\nEmpieza con los nodos visuales. No necesitas saber programar para usar Dynamo básico. Pero si ya sabes algo de Python, puedes escribir nodos personalizados que multiplican tu productividad.\n\n---\n\n## Los errores que cometí y no debes repetir\n\n**Error 1: Aprender Revit Architecture sola**\nEl mercado paga más a quienes saben Structure + MEP coordination. Aprende al menos el flujo estructural desde el inicio.\n\n**Error 2: Ignorar el PEB**\nSaber modelar no es suficiente. Las empresas buscan gente que entiende *cómo gestionar* un proyecto BIM. El PEB es el documento central de esa gestión.\n\n**Error 3: No certificarse**\nLa certificación de Autodesk Certified Professional (ACP) en Revit no prueba que eres experto, pero es la señal mínima que una empresa busca cuando no te conoce.\n\n---\n\n## ¿Qué trabajo puedes conseguir al final de los 6 meses?\n\n| Rol | Sueldo referencial Lima |\n|---|---|\n| Modelador BIM Junior | S/. 2,500 - 3,500 |\n| Coordinador BIM Junior | S/. 3,500 - 5,000 |\n| BIM Manager (3+ años) | S/. 7,000 - 12,000 |\n\nEstos números son de 2024. Con la Ley 32069 activa en 2026, se espera que suban.\n\n---\n\n## Conclusión\n\n6 meses es suficiente para convertirte en empleable en BIM. No para ser experto, sino para tener las habilidades base que el mercado está buscando desesperadamente ahora mismo.\n\nEl plan funciona si cumples una condición: practica todos los días, aunque sean 45 minutos. La consistencia diaria supera los maratones de fin de semana.',
  'Mi ruta exacta para aprender BIM en 6 meses como ingeniero civil: Revit, Navisworks, norma peruana y Dynamo. Con recursos gratuitos y proyectos reales.',
  cat_bim,
  ARRAY['bim', 'revit', 'carrera', 'guia', 'navisworks'],
  'Preparé Mi Transición a BIM en 6 Meses — Esta Es Mi Ruta Exacta',
  'Plan mensual para aprender BIM en 6 meses: Revit, Navisworks, coordinación y normativa peruana. Con recursos gratuitos y proyectos reales para practicar.',
  '¿Cómo puede un ingeniero civil prepararse para BIM en 6 meses?',
  'Un ingeniero civil puede prepararse para BIM en 6 meses dominando Revit (meses 1-2), aprendiendo coordinación BIM y normativa peruana (meses 3-4), y practicando proyectos reales con Dynamo (meses 5-6).',
  'published', false, 'Miguel Angel Rivera', 7, NOW()
) ON CONFLICT (slug) DO NOTHING;

-- ==============================================
-- POST 3: Norma E.030 Fuerza Cortante Basal
-- ==============================================
INSERT INTO posts (
  title, slug, content, excerpt, category_id, tags,
  meta_title, meta_description, key_question, key_answer,
  status, featured, author, reading_time, published_at
) VALUES (
  'Norma E.030: Cómo Calcular la Fuerza Cortante Basal Paso a Paso',
  'norma-e030-fuerza-cortante-basal-calculo',
  E'## ¿Cómo se calcula la fuerza cortante basal según la norma E.030?\n\nLa fuerza cortante basal se calcula como **V = (Z × U × C × S / R) × P**, donde Z es el factor de zona sísmica, U el factor de uso de la edificación, C el factor de amplificación sísmica, S el factor de suelo, R el coeficiente de reducción de fuerza sísmica, y P el peso total de la edificación.\n\nEsta fórmula es el corazón del diseño sísmico en Perú. Si no la entiendes bien, todo lo que venga después estará mal.\n\n---\n\n## Los parámetros uno por uno\n\n### Z — Factor de Zona Sísmica\n\nPerú está dividido en 4 zonas sísmicas. Cada zona tiene un valor Z que representa la aceleración máxima del suelo para un sismo con 10% de probabilidad de excedencia en 50 años.\n\n| Zona | Z | Ciudades principales |\n|---|---|---|\n| Z1 | 0.10 | Iquitos, Pucallpa |\n| Z2 | 0.25 | Cajamarca, Huaraz (algunas zonas) |\n| Z3 | 0.35 | Lima (parte), Trujillo, Chiclayo |\n| Z4 | 0.45 | Lima (Miraflores, San Isidro), Ica, Tacna |\n\n> **Importante:** Lima no es homogénea. Dependiendo del distrito, puede ser Z3 o Z4. Verifica siempre el mapa de zonificación de la E.030 para la dirección exacta del proyecto.\n\n### U — Factor de Uso\n\nRefleja la importancia de la edificación y las consecuencias de su colapso:\n\n| Categoría | Uso | U |\n|---|---|---|\n| A1 | Hospitales, bomberos, policía | 1.50 |\n| A2 | Colegios, universidades, estadios | 1.50 |\n| B | Edificios de oficinas, hoteles | 1.30 |\n| C | Viviendas, locales comerciales | 1.00 |\n\n### C — Factor de Amplificación Sísmica\n\nDepende del período fundamental de la estructura T y del período Tp del suelo:\n\n```\nSi T < Tp:    C = 2.5\nSi Tp ≤ T ≤ TL:  C = 2.5 × (Tp/T)\nSi T > TL:    C = 2.5 × (Tp × TL / T²)\n```\n\nEl período fundamental T para estimación preliminar:\n\n```\nT = hn / CT\n```\n\nDonde:\n- hn = altura total de la edificación (m)\n- CT = 35 (pórticos de concreto), 45 (muros o duales), 60 (pórticos de acero)\n\n### S — Factor de Suelo\n\n| Tipo de suelo | Descripción | Tp (s) | TL (s) |\n|---|---|---|---|\n| S0 | Roca dura (VS > 1500 m/s) | 0.3 | 3.0 |\n| S1 | Roca blanda o suelos rígidos | 0.4 | 2.5 |\n| S2 | Suelos intermedios | 0.6 | 2.0 |\n| S3 | Suelos blandos | 1.0 | 1.6 |\n\nEl valor de S para cada combinación Zona-Suelo está en la Tabla N°3 de la E.030.\n\n### R — Coeficiente de Reducción\n\nRefleja la ductilidad y redundancia del sistema estructural:\n\n| Sistema | R |\n|---|---|\n| Pórticos de concreto | 8 |\n| Dual (pórticos + muros) | 7 |\n| Muros de concreto | 6 |\n| Muros de albañilería | 3 |\n\n---\n\n## Ejemplo numérico completo\n\n**Problema:** Calcular la fuerza cortante basal de un edificio de 5 pisos (oficinas) en Miraflores, Lima, sobre suelo tipo S2, con sistema de pórticos de concreto armado. Peso total P = 2,500 toneladas.\n\n**Datos:**\n- Zona: Z4 → Z = 0.45\n- Uso: Oficinas (categoría B) → U = 1.30\n- Suelo: S2 en Zona 4 → S = 1.05, Tp = 0.6 s, TL = 2.0 s\n- Sistema: Pórticos → R = 8\n- hn = 5 pisos × 3.0 m = 15 m\n- CT = 35 (pórticos concreto)\n\n**Paso 1: Calcular T**\n```\nT = hn / CT = 15 / 35 = 0.43 s\n```\n\n**Paso 2: Calcular C**\n```\nComo T (0.43 s) < Tp (0.6 s):\nC = 2.5\n```\n\n**Verificar C/R ≥ 0.11:**\n```\nC/R = 2.5/8 = 0.31 ≥ 0.11 ✓\n```\n\n**Paso 3: Calcular V**\n```\nV = (Z × U × C × S / R) × P\nV = (0.45 × 1.30 × 2.5 × 1.05 / 8) × 2,500\nV = (1.5356 / 8) × 2,500\nV = 0.192 × 2,500\nV = 480 toneladas\n```\n\nEsta fuerza de **480 toneladas** se distribuye en los 5 pisos usando la fórmula de distribución de la E.030.\n\n---\n\n## Errores comunes en el cálculo\n\n1. **Usar el Z del departamento y no del distrito**: Lima tiene Z3 y Z4 según la microzonificación.\n2. **No verificar C/R ≥ 0.11**: La norma establece un mínimo.\n3. **Calcular T sin verificar irregularidades**: Si hay irregularidad, R se reduce con Ia e Ip.\n4. **Ignorar el factor de irregularidad**: R real = R × Ia × Ip (siempre ≤ R base).\n\n---\n\n## Conclusión\n\nLa fórmula V = ZUCS/R × P es simple en apariencia, pero requiere un análisis cuidadoso de cada parámetro. El error más caro no está en la aritmética sino en elegir mal el tipo de suelo o simplificar las irregularidades.',
  'Aprende a calcular la fuerza cortante basal según la norma E.030 con la fórmula V=ZUCS/R×P. Ejemplo numérico completo para edificio de oficinas en Lima.',
  cat_norm,
  ARRAY['e030', 'sismo', 'cortante-basal', 'estructural', 'calculo'],
  'Calculé la Cortante Basal E.030 en 10 Minutos — Te Muestro Cómo',
  'Guía paso a paso para calcular la fuerza cortante basal según la norma E.030. Con tablas de parámetros Z, U, C, S, R y ejemplo numérico real para Lima.',
  '¿Cómo se calcula la fuerza cortante basal según la norma E.030?',
  'La fuerza cortante basal V = (Z × U × C × S / R) × P, donde Z=zona sísmica, U=uso, C=amplificación, S=suelo, R=reducción y P=peso de la edificación.',
  'published', false, 'Miguel Angel Rivera', 8, NOW()
) ON CONFLICT (slug) DO NOTHING;

-- ==============================================
-- POST 4: Python para Ingenieros Civiles
-- ==============================================
INSERT INTO posts (
  title, slug, content, excerpt, category_id, tags,
  meta_title, meta_description, key_question, key_answer,
  status, featured, author, reading_time, published_at
) VALUES (
  'Python para Ingenieros Civiles: Tu Primer Script en 30 Minutos',
  'python-ingenieros-civiles-primer-script',
  E'## ¿Cómo puede un ingeniero civil empezar a programar en Python?\n\n**Un ingeniero civil puede escribir su primer script funcional en Python en 30 minutos** instalando Python, aprendiendo las 5 operaciones básicas, y creando un calculador de momento flector para una viga simplemente apoyada.\n\nNo necesitas saber matemáticas avanzadas de programación. Necesitas saber cálculo estructural — que ya sabes.\n\n---\n\n## Por qué Python y no Excel\n\nExcel es la herramienta del ingeniero por defecto, y está bien para muchos casos. Pero tiene límites concretos:\n\n- **Velocidad**: Python procesa 50,000 combinaciones de carga en segundos. Excel se congela.\n- **Reproducibilidad**: Un script Python corre igual en tu PC y en la de tu cliente. Una hoja Excel complicada a veces no.\n- **Integración**: Python se conecta con Revit (via pyRevit), AutoCAD, SAP2000, y bases de datos. Excel no.\n- **Versión**: Con Git puedes rastrear todos los cambios a tu script. Con Excel, tienes "versión_final_v3_BUENA_esta.xlsx".\n\n---\n\n## Instalación en 5 minutos\n\n**Paso 1:** Descarga Python desde python.org (versión 3.11 o superior). Marca "Add Python to PATH" durante la instalación.\n\n**Paso 2:** Instala VS Code desde code.visualstudio.com. Instala la extensión de Python.\n\n**Paso 3:** Abre VS Code, crea un archivo `viga.py` y escribe:\n\n```python\nprint("Hola ingeniero")\n```\n\nPresiona F5. Si ves el mensaje, Python está listo.\n\n---\n\n## Los 5 conceptos que necesitas (y nada más por ahora)\n\n```python\n# 1. Variables\nL = 6.0      # longitud de viga en metros\nw = 2.5      # carga distribuida en t/m\nP = 10.0     # carga puntual en toneladas\n\n# 2. Operaciones matemáticas\nimport math\nresultado = math.sqrt(16)   # raíz cuadrada = 4.0\n\n# 3. Funciones (reutilizar código)\ndef momento_maximo_viga(w, L):\n    """Momento máximo para viga con carga uniforme"""\n    return (w * L**2) / 8\n\n# 4. Listas\nposiciones = [0, 1, 2, 3, 4, 5, 6]  # puntos a lo largo de la viga\n\n# 5. Bucles (repetir operaciones)\nfor x in posiciones:\n    M = (w * x * (L - x)) / 2\n    print(f"x={x}m → M={M:.2f} t·m")\n```\n\n---\n\n## El script completo: Diagrama de momentos flectores\n\nEste script calcula y grafica el diagrama de momentos para una viga simplemente apoyada con carga distribuida:\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Parámetros del problema\nL = 6.0    # longitud en metros\nw = 2.0    # carga distribuida en t/m\n\n# Reacciones (por equilibrio)\nRa = Rb = w * L / 2\nprint(f"Reacción A: {Ra:.2f} t")\nprint(f"Reacción B: {Rb:.2f} t")\n\n# Calcular momento a lo largo de la viga\nx = np.linspace(0, L, 200)  # 200 puntos\nM = Ra * x - (w * x**2) / 2\n\n# Momento máximo (en x = L/2)\nM_max = Ra * (L/2) - (w * (L/2)**2) / 2\nprint(f"Momento máximo (en L/2): {M_max:.2f} t·m")\n\n# Graficar\nplt.figure(figsize=(10, 4))\nplt.plot(x, M, color=''#2E75B6'', linewidth=2)\nplt.fill_between(x, M, alpha=0.3, color=''#2E75B6'')\nplt.axhline(y=0, color=''black'', linewidth=0.5)\nplt.xlabel(''Posición x (m)'')\nplt.ylabel(''Momento flector M (t·m)'')\nplt.title(f''Diagrama de Momentos Flectores\\nViga L={L}m, w={w} t/m'')\nplt.grid(True, alpha=0.3)\nplt.annotate(f''Mmáx = {M_max:.2f} t·m'',\n             xy=(L/2, M_max),\n             xytext=(L/2 + 0.5, M_max * 0.8),\n             arrowprops=dict(arrowstyle=''->''))\nplt.tight_layout()\nplt.savefig(''diagrama_momentos.png'', dpi=150)\nplt.show()\n```\n\n**Para ejecutarlo necesitas:** `pip install numpy matplotlib`\n\n---\n\n## ¿Para qué más puedes usar Python?\n\n| Aplicación | Descripción |\n|---|---|\n| Análisis de suelos | Procesar ensayos SPT masivos |\n| Metrados automáticos | Calcular volúmenes desde geometría |\n| Reportes automáticos | Generar PDFs con resultados |\n| pyRevit | Automatizar tareas en Revit con Python |\n| Dynamo | Nodos Python en Dynamo de Revit |\n| SAP2000 API | Controlar SAP2000 desde Python |\n\n---\n\n## Conclusión\n\nPython no es para programadores. Es para ingenieros que quieren multiplicar su productividad. El primer script siempre es el más difícil. Después de ese, cada script nuevo es más fácil que el anterior.\n\nEmpieza con algo que ya calculas manualmente. Automatízalo en Python. Eso es todo lo que necesitas para empezar.',
  'Crea tu primer script de Python en 30 minutos como ingeniero civil. Calculamos el diagrama de momentos flectores de una viga con código real y ejecutable.',
  cat_python,
  ARRAY['python', 'programacion', 'estructural', 'automatizacion', 'vigas'],
  'Probé Python Como Ingeniero Civil — En 30 Minutos Ya Calculaba Vigas',
  'Tutorial de Python para ingenieros civiles: en 30 minutos creas tu primer script. Calculamos momentos flectores y graficamos el diagrama con código real.',
  '¿Cómo puede un ingeniero civil empezar a programar en Python?',
  'Un ingeniero civil puede escribir su primer script en Python en 30 minutos instalando Python, aprendiendo variables y funciones básicas, y creando un calculador de momento flector para una viga.',
  'published', false, 'Miguel Angel Rivera', 7, NOW()
) ON CONFLICT (slug) DO NOTHING;

-- ==============================================
-- POST 5: Revit para ingenieros de AutoCAD
-- ==============================================
INSERT INTO posts (
  title, slug, content, excerpt, category_id, tags,
  meta_title, meta_description, key_question, key_answer,
  status, featured, author, reading_time, published_at
) VALUES (
  'Revit para Estructuras: Primeros Pasos para Ingenieros que Vienen de AutoCAD',
  'revit-estructuras-ingenieros-autocad',
  E'## ¿Cómo puede un ingeniero que usa AutoCAD empezar con Revit Structural?\n\nLa transición de AutoCAD a Revit Structural requiere **cambiar el paradigma mental primero**: Revit trabaja con elementos 3D paramétricos (columnas, vigas, muros, losas) en lugar de líneas 2D. El modelo genera los planos automáticamente — no al revés.\n\nEste cambio mental es la barrera principal. Una vez que lo superas, el flujo de trabajo es más rápido y más preciso que AutoCAD.\n\n---\n\n## El diagnóstico honesto: por qué AutoCAD se queda corto\n\nNo estoy diciendo que AutoCAD sea malo. Es la herramienta que más usé durante años. Pero tiene problemas estructurales (valga la redundancia):\n\n**El problema de la consistencia:**\nEn AutoCAD, un cambio en una columna requiere actualizar manualmente la planta de arquitectura, el corte, el detalle y el cuadro de metrados. En Revit, cambias la columna una vez y todo se actualiza automáticamente.\n\n**El problema de la coordinación:**\nCuando arquitectura, estructura e instalaciones trabajan en archivos DWG separados, los choques son inevitables. En Revit, todos trabajan en un modelo federado y las interferencias se detectan automáticamente.\n\n**El problema del 3D:**\nAutoCAD es 2D con capacidades 3D limitadas. Revit es nativamente 3D. Esto importa para estructuras complejas: puentes, graderías, tanques, conexiones especiales.\n\n---\n\n## Cómo piensa Revit (y cómo deja de pensar AutoCAD)\n\n### En AutoCAD:\n- Dibujas líneas que representan objetos\n- Cada vista es un dibujo independiente\n- La sección es una línea que tú dibujas a mano\n- Los metrados los calculas por separado\n\n### En Revit:\n- Colocas objetos que tienen propiedades (una columna de 30x30 de concreto f''c=280)\n- Las vistas son cortes del modelo 3D (se generan automáticamente)\n- La sección la genera Revit al colocar una línea de corte\n- Los metrados salen del modelo como schedules\n\n---\n\n## Los primeros 5 pasos concretos en Revit Structural\n\n### Paso 1: Configura los niveles (Levels)\n\nEn Revit no hay "pisos" como tal. Hay **niveles** que son planos horizontales de referencia. Antes de modelar, define:\n\n- Nivel 0 (Sótano): -3.00 m\n- Nivel 1 (Planta baja): 0.00 m\n- Nivel 2 (Piso 2): +3.00 m\n- Nivel 3 (Piso 3): +6.00 m\n- Nivel Techo: +9.00 m\n\nTodo elemento (columna, viga, losa) se vincula a niveles, no a alturas absolutas.\n\n### Paso 2: Configura los ejes (Grids)\n\nLos ejes en Revit son objetos paramétricos, no líneas. Aparecen automáticamente en todas las vistas relevantes. Nombra ejes alfabéticos (A, B, C) en X y numéricos (1, 2, 3) en Y.\n\n### Paso 3: Coloca columnas estructurales\n\nEn Revit Structural: Estructura → Columna Estructural → seleccionar familia de concreto.\n\nSi no encuentras la sección que necesitas (ejemplo: 30x60 cm), puedes **duplicar una familia existente y cambiar las dimensiones** sin salir del proyecto.\n\n### Paso 4: Coloca vigas (Vigas Estructurales)\n\nEstructura → Viga. Dibuja de Grid a Grid. Revit automáticamente:\n- Calcula la longitud real\n- La agrega al schedule de vigas\n- La muestra en planta, corte y 3D\n\n### Paso 5: Coloca losas (Pisos Estructurales)\n\nEstructura → Piso Estructural. Defines el contorno y el espesor, y Revit calcula el área y volumen automáticamente.\n\n---\n\n## Los errores que todos cometen al empezar\n\n**Error 1: Querer que Revit se vea como AutoCAD**\nLas primeras semanas, todos intentan ajustar Revit para que los planos salgan igual que los de AutoCAD. Grave error. Revit tiene su propio estándar de presentación. Adáptate a él.\n\n**Error 2: Modelar en mm en vez de m**\nAlgunos importan DWGs en milímetros y trabajan en esa escala. Causa problemas de coordenadas y tamaños de texto. Siempre trabaja en metros.\n\n**Error 3: Ignorar las Familias**\nLas Familias son los "bloques" de Revit pero paramétricos. Una columna circular, una viga T, una placa de anclaje — todo es una Familia. Aprender a modificar Familias existentes multiplica tu productividad.\n\n**Error 4: Copiar geometría de AutoCAD directamente**\nImportar un DWG y trazar sobre él puede funcionar, pero heredas todos los problemas del original. Mejor modelar desde cero en Revit con el DWG como referencia.\n\n---\n\n## ¿Cuánto tiempo toma el cambio?\n\nDepende de cuánto usabas AutoCAD. Mi experiencia:\n\n- **Primer mes**: Te sientes más lento que con AutoCAD. Normal.\n- **Segundo mes**: Ya tienes velocidad comparable para proyectos simples.\n- **Tercer mes**: Eres más rápido en proyectos medianos gracias a la automatización.\n- **Después de 6 meses**: Es difícil volver a AutoCAD para proyectos de edificaciones.\n\n---\n\n## Conclusión\n\nRevit no es una versión mejorada de AutoCAD. Es una herramienta diferente con una filosofía diferente. El ingeniero que lo entiende así aprende más rápido.\n\nLa inversión en tiempo es real. Pero en un mercado donde BIM es obligatorio desde 2026, es una inversión que devuelve su costo en el primer proyecto grande donde detectas un choque antes de llegar a obra.',
  'Guía de transición de AutoCAD a Revit Structural para ingenieros civiles. Aprende el nuevo paradigma paramétrico, los primeros 5 pasos y los errores más comunes.',
  cat_revit,
  ARRAY['revit', 'autocad', 'estructural', 'modelado', 'bim'],
  'Dejé AutoCAD por Revit Structural — Esto Es Lo Que Nadie Te Dice',
  'Cómo empezar con Revit Structural viniendo de AutoCAD. Aprende el nuevo paradigma, los primeros 5 pasos concretos y los errores que debes evitar.',
  '¿Cómo puede un ingeniero que usa AutoCAD empezar con Revit Structural?',
  'La transición de AutoCAD a Revit Structural requiere entender que Revit trabaja con elementos 3D paramétricos en vez de líneas 2D, usar niveles y grids antes de modelar, y permitir que el modelo genere los planos automáticamente.',
  'published', false, 'Miguel Angel Rivera', 8, NOW()
) ON CONFLICT (slug) DO NOTHING;

END $$;

-- Verificar que los posts se insertaron
SELECT title, slug, status, featured FROM posts ORDER BY created_at DESC LIMIT 10;
